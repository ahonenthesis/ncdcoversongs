function [tupleSeq] = combineFeatures(chords,melody,comst)

tupletable=[];
alpsize=0;

if (comst==1)
    tupletable=[
        1,0,0,0,1,0,0,1,0,0,0,0; % C maj
        1,0,0,1,0,0,0,1,0,0,0,0; % C min
        0,1,0,0,0,1,0,0,1,0,0,0; % C# maj
        0,1,0,0,1,0,0,0,1,0,0,0; % C# min
        0,0,1,0,0,0,1,0,0,1,0,0; % D maj
        0,0,1,0,0,1,0,0,0,1,0,0; % D min
        0,0,0,1,0,0,0,1,0,0,1,0; % Eb maj
        0,0,0,1,0,0,1,0,0,0,1,0; % Eb min
        0,0,0,0,1,0,0,0,1,0,0,1; % E maj
        0,0,0,0,1,0,0,1,0,0,0,1; % E min
        1,0,0,0,0,1,0,0,0,1,0,0; % F maj
        1,0,0,0,0,1,0,0,1,0,0,0; % F min
        0,1,0,0,0,0,1,0,0,0,1,0; % F# maj
        0,1,0,0,0,0,1,0,0,1,0,0; % F# min
        0,0,1,0,0,0,0,1,0,0,0,1; % G maj
        0,0,1,0,0,0,0,1,0,0,1,0; % G min
        1,0,0,1,0,0,0,0,1,0,0,0; % G# maj
        0,0,0,1,0,0,0,0,1,0,0,1; % G# min
        0,1,0,0,1,0,0,0,0,1,0,0; % A maj
        1,0,0,0,1,0,0,0,0,1,0,0; % A min
        0,0,1,0,0,1,0,0,0,0,1,0; % Bb maj
        0,1,0,0,0,1,0,0,0,0,1,0; % Bb min
        0,0,0,1,0,0,1,0,0,0,0,1; % B maj
        0,0,1,0,0,0,1,0,0,0,0,1; % Bb min
        ];
    alpsize=2;
elseif (comst==2)
    tupletable=[
        1,0,2,0,1,2,0,1,0,2,0,2; % C maj
        1,0,2,1,0,2,0,1,2,0,2,0; % C min
        2,1,0,2,0,1,2,0,1,0,2,0; % C# maj
        0,1,0,2,1,0,2,0,1,2,0,2; % C# min
        0,2,1,0,2,0,1,2,0,1,0,2; % D maj
        2,0,1,0,2,1,0,2,0,1,2,0; % D min
        2,0,2,1,0,2,0,1,2,0,1,0; % Eb maj
        0,2,0,1,0,2,1,0,2,0,1,2; % Eb min
        0,2,0,2,1,0,2,0,1,2,0,1; % E maj
        2,0,2,0,1,0,2,1,0,2,0,1; % E min
        1,0,2,0,2,1,0,2,0,1,2,0; % F maj
        1,2,0,2,0,1,0,2,1,0,2,0; % F min
        0,1,0,2,0,2,1,0,2,0,1,2; % F# maj
        0,1,2,0,2,0,1,0,2,1,0,2; % F# min
        2,0,1,0,2,0,2,1,0,2,0,1; % G maj
        2,0,1,2,0,2,0,1,0,2,1,0; % G min
        1,2,0,1,0,2,0,2,1,0,2,0; % G# maj
        0,2,0,1,2,0,2,0,1,0,2,1; % G# min
        0,1,2,0,1,0,2,0,2,1,0,2; % A maj
        1,0,2,0,1,2,0,2,0,1,0,2; % A min
        2,0,1,2,0,1,0,2,0,2,1,0; % Bb maj
        2,1,0,2,0,1,2,0,2,0,1,0; % Bb min
        0,2,0,1,2,0,1,0,2,0,2,1; % B maj
        0,2,1,0,2,0,1,2,0,2,0,1; % Bb min
        ];
    alpsize=3;
elseif (comst==3)
    tupletable=[
        1,0,4,0,2,4,0,3,0,4,0,4; % C maj
        1,0,4,2,0,4,0,3,4,0,4,0; % C min
        4,1,0,4,0,2,4,0,3,0,4,0; % C# maj
        0,1,0,4,2,0,4,0,3,4,0,4; % C# min
        0,4,1,0,4,0,2,4,0,3,0,4; % D maj
        4,0,1,0,4,2,0,4,0,3,4,0; % D min
        4,0,4,1,0,4,0,2,4,0,3,0; % Eb maj
        0,4,0,1,0,4,2,0,4,0,3,4; % Eb min
        0,4,0,4,1,0,4,0,2,4,0,3; % E maj
        4,0,4,0,1,0,4,2,0,4,0,3; % E min
        3,0,4,0,4,1,0,4,0,2,4,0; % F maj
        3,4,0,4,0,1,0,4,2,0,4,0; % F min
        0,3,0,4,0,4,1,0,4,0,2,4; % F# maj
        0,3,4,0,4,0,1,0,4,2,0,4; % F# min
        4,0,3,0,4,0,4,1,0,4,0,2; % G maj
        4,0,3,4,0,4,0,1,0,4,2,0; % G min
        2,4,0,3,0,4,0,4,1,0,4,0; % G# maj
        0,4,0,3,4,0,4,0,1,0,4,2; % G# min
        0,2,4,0,3,0,4,0,4,1,0,4; % A maj
        2,0,4,0,3,4,0,4,0,1,0,4; % A min
        4,0,2,4,0,3,0,4,0,4,1,0; % Bb maj
        4,2,0,4,0,3,4,0,4,0,1,0; % Bb min
        0,4,0,2,4,0,3,0,4,0,4,1; % B maj
        0,4,2,0,4,0,3,4,0,4,0,1; % B min
        ];
    alpsize=5;
else
    tupletable=[
        1,2,3,4,5,6,7,8,9,10,11,12; % here the values do not matter
        1,2,3,4,5,6,7,8,9,10,11,12;
        1,2,3,4,5,6,7,8,9,10,11,12;
        1,2,3,4,5,6,7,8,9,10,11,12;
        1,2,3,4,5,6,7,8,9,10,11,12;
        1,2,3,4,5,6,7,8,9,10,11,12;
        1,2,3,4,5,6,7,8,9,10,11,12;
        1,2,3,4,5,6,7,8,9,10,11,12;
        1,2,3,4,5,6,7,8,9,10,11,12;
        1,2,3,4,5,6,7,8,9,10,11,12;
        1,2,3,4,5,6,7,8,9,10,11,12;
        1,2,3,4,5,6,7,8,9,10,11,12;
        1,2,3,4,5,6,7,8,9,10,11,12;
        1,2,3,4,5,6,7,8,9,10,11,12;
        1,2,3,4,5,6,7,8,9,10,11,12;
        1,2,3,4,5,6,7,8,9,10,11,12;
        1,2,3,4,5,6,7,8,9,10,11,12;
        1,2,3,4,5,6,7,8,9,10,11,12;
        1,2,3,4,5,6,7,8,9,10,11,12;
        1,2,3,4,5,6,7,8,9,10,11,12;
        1,2,3,4,5,6,7,8,9,10,11,12;
        1,2,3,4,5,6,7,8,9,10,11,12;
        1,2,3,4,5,6,7,8,9,10,11,12;
        1,2,3,4,5,6,7,8,9,10,11,12;
        ];
    alpsize=12;
end

% fold melody
melody=mod(melody,12);
melody=melody+1; % C=1

xlen=size(chords,2);
xlen2=size(melody,1);
if (xlen2<xlen)
    xlen=xlen2;
end
tupleSeq=zeros(1,xlen);

for ix=1:xlen
    tupleSeq(ix)=tupletable(chords(ix), melody(ix))+alpsize*(chords(ix)-1);
end


end
